"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.userRouter = void 0;
const express_1 = require("express");
const users_controllers_1 = require("../controllers/users.controllers");
const user_schema_1 = require("../schemas/user.schema");
const user_schema_2 = require("../schemas/user.schema");
const validateLogin_middlewares_1 = require("../middlewares/validateLogin.middlewares");
const validateBody_midlewares_1 = require("../middlewares/validateBody.midlewares");
const verifyToken_middlewares_1 = require("../middlewares/verifyToken.middlewares");
const doesEmailExist_middlewares_1 = require("../middlewares/doesEmailExist.middlewares");
exports.userRouter = (0, express_1.Router)();
const usersControllers = new users_controllers_1.UsersControllers();
exports.userRouter.post("/login", validateBody_midlewares_1.ValidateBody.execute(user_schema_2.loginUserSchema), validateLogin_middlewares_1.ValidateLogin.execute, usersControllers.login);
exports.userRouter.post("/", validateBody_midlewares_1.ValidateBody.execute(user_schema_1.registerUserSchema), doesEmailExist_middlewares_1.DoesEmailExist.execute, usersControllers.register);
exports.userRouter.get("/profile", verifyToken_middlewares_1.verifyToken.execute, usersControllers.profile);
